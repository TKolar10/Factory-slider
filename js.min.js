const sliderTop = $(".slider__top-row"),
    sliderBottom = $(".slider__bottom-imgs"),
    left = $(".slider__btn--left"),
    right = $(".slider__btn--right");
let direction;

function sliderTransitionEnd(a, b) { "right" === b ? (a.prepend(a.children().last()), $(`.${a.attr("class")} img`).first().css("-webkit-transform", "translateX(0)")) : (a.append(a.children().first()), $(`.${a.attr("class")} img`).last().css("opacity", "0"), $(`.${a.attr("class")} img`).last().fadeTo("slow", 1)), a.css("transition", "none"), a.css("-webkit-transform", "translateX(0)"), setTimeout(function() { a.css("transition", "all 0.5s") }) }
left.on("click", function() { direction = "left", sliderTop.css("-webkit-transform", `translateX(-${sliderTop.children().first().width()}px)`), sliderBottom.css("-webkit-transform", `translateX(-${sliderBottom.children().first().width()}px)`) }), right.on("click", function() { direction = "right", $(".slider__bottom-imgs img").last().css({ "-webkit-transform": `translate(${sliderBottom.children().last().width()}px)` }), sliderBottom.css("-webkit-transform", `translateX(${sliderBottom.children().last().width()}px)`), $(".slider__top-row img").last().css({ "-webkit-transform": `translate(${sliderTop.children().last().width()}px)` }), sliderTop.css("-webkit-transform", `translateX(${sliderTop.children().last().width()}px)`) }), sliderTop.bind("transitionend", function() { sliderTransitionEnd(sliderTop, direction) }), sliderBottom.bind("transitionend", function() { sliderTransitionEnd(sliderBottom, direction) })